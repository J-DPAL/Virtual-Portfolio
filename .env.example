# Monolith architecture env template
# frontend -> backend monolith -> Supabase (database + auth + storage)

# =========================
# Backend monolith
# =========================
SERVER_PORT=8080
SPRING_PROFILES_ACTIVE=prod

# Supabase Postgres connection (from Supabase project settings)
SPRING_DATASOURCE_URL=jdbc:postgresql://db.YOUR_PROJECT_REF.supabase.co:5432/postgres?sslmode=require
SPRING_DATASOURCE_USERNAME=postgres
SPRING_DATASOURCE_PASSWORD=CHANGE_ME

# Supabase API credentials used by backend
SUPABASE_URL=https://YOUR_PROJECT_REF.supabase.co
SUPABASE_ANON_KEY=YOUR_SUPABASE_ANON_KEY
SUPABASE_SERVICE_ROLE_KEY=YOUR_SUPABASE_SERVICE_ROLE_KEY

# CORS (comma-separated frontend origins)
APP_CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,https://your-frontend-domain.com

# Optional cookie hardening behind proxies/CDNs
# Set to true if your platform does not forward https correctly to the app.
APP_AUTH_COOKIE_FORCE_SECURE=false

# Optional anti-spam settings for contact form
TURNSTILE_ENABLED=false
TURNSTILE_SECRET_KEY=
TURNSTILE_MINIMUM_SCORE=0.5
CONTACT_IP_HASH_SALT=CHANGE_THIS_TO_A_RANDOM_STRING

# Optional resume storage paths (defaults shown)
SUPABASE_RESUME_BUCKET=resumes
RESUME_FILE_EN=resume_en.pdf
RESUME_FILE_FR=resume_fr.pdf
RESUME_FILE_ES=resume_es.pdf

# =========================
# Frontend
# =========================
VITE_API_BASE_URL=http://localhost:8080/api
VITE_ADMIN_EMAILS=you@example.com
VITE_SUPABASE_DIRECT=false

# Optional direct Supabase mode (debug only)
# VITE_SUPABASE_DIRECT=true
# VITE_SUPABASE_URL=https://YOUR_PROJECT_REF.supabase.co
# VITE_SUPABASE_ANON_KEY=YOUR_SUPABASE_ANON_KEY

# Optional if Turnstile is enabled on backend and widget is enabled on frontend
VITE_TURNSTILE_SITE_KEY=
